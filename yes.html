<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MWAH</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
    <style>
        .letter-container {
            margin: 40px auto;
            width: 320px;
            position: relative;
            cursor: pointer;
            perspective: 1000px;
        }
        
        .closed-envelope {
            position: relative;
            width: 300px;
            height: 180px;
            margin: 0 auto;
            background: linear-gradient(135deg, #ff4d8d, #ff0066);
            border-radius: 10px 10px 5px 5px;
            box-shadow: 0 15px 35px rgba(255, 0, 100, 0.3);
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform-style: preserve-3d;
            z-index: 3;
        }
        
        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-top: 90px solid #ff0066;
            border-radius: 10px 10px 0 0;
            transform-origin: top;
            transition: transform 0.8s 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .envelope-seal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            background: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 0 8px rgba(255, 255, 255, 0.2);
            z-index: 4;
            animation: sealPulse 2s infinite;
        }
        
        .paper-letter {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) scale(0.95);
            width: 280px;
            background: #fffaf0;
            border-radius: 8px;
            padding: 0;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
            border: 1px solid #ffd6e0;
            z-index: 1;
            opacity: 0;
            transform-origin: top center;
            transition: all 0.8s 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            max-height: 0;
            overflow: hidden;
        }
        
        .paper-content {
            font-family: 'Poppins', sans-serif;
            color: #5a3d2b;
            line-height: 1.8;
            font-size: 1.1rem;
            padding: 25px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s 1s ease-out;
        }
        
      
        .opened .closed-envelope {
            transform: translateY(50px) rotateX(-30deg);
            box-shadow: 0 5px 15px rgba(255, 0, 100, 0.1);
        }
        
        .opened .envelope-flap {
            transform: rotateX(-180deg);
        }
        
        .opened .envelope-seal {
            animation: sealBreak 0.5s forwards;
            transform: translate(-50%, -50%) scale(1.3);
        }
        
        .opened .paper-letter {
            opacity: 1;
            max-height: 450px;
            padding: 10px;
            transform: translateX(-50%) scale(1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            overflow-y: auto;
        }
        
        .opened .paper-content {
            opacity: 1;
            transform: translateY(0);
        }
        
        
        .paper-title {
            font-family: 'Quicksand', sans-serif;
            font-size: 2rem;
            color: #ff4d8d;
            text-align: center;
            margin-bottom: 25px;
            border-bottom: 2px dotted #ffb8d0;
            padding-bottom: 15px;
        }
        
        .paper-line {
            margin: 18px 0;
            padding-left: 25px;
            position: relative;
            min-height: 24px;
        }
        
        .paper-line:before {
            content: "‚ù§";
            position: absolute;
            left: 0;
            top: 2px;
            font-size: 0.9rem;
            color: #ff4d8d;
        }
        
        .paper-signature {
            text-align: right;
            margin-top: 40px;
            font-family: 'Quicksand', sans-serif;
            font-size: 1.5rem;
            color: #ff4d8d;
            border-top: 1px dashed #ffb8d0;
            padding-top: 20px;
        }
        
        .instruction-text {
            margin-top: 25px;
            color: #ff4d8d;
            font-size: 1.2rem;
            font-style: italic;
            text-align: center;
            animation: fadeInOut 2s infinite;
        }
        
        
        .paper-letter:before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                linear-gradient(90deg, rgba(255,182,193,0.08) 1px, transparent 1px),
                linear-gradient(rgba(255,182,193,0.08) 1px, transparent 1px);
            background-size: 25px 25px;
            pointer-events: none;
            border-radius: 7px;
            z-index: -1;
        }
        
        
        .paper-letter::-webkit-scrollbar {
            width: 6px;
        }
        
        .paper-letter::-webkit-scrollbar-track {
            background: rgba(255, 182, 193, 0.1);
            border-radius: 10px;
        }
        
        .paper-letter::-webkit-scrollbar-thumb {
            background: #ff4d8d;
            border-radius: 10px;
        }
        
        .paper-letter::-webkit-scrollbar-thumb:hover {
            background: #ff0066;
        }
    </style>
</head>
<body class="yes-page">
    <div class="container">
        <h1 class="celebrate">You Said YES! üéâ</h1>
        
        
        <div class="letter-container" id="letterContainer">
            <div class="closed-envelope">
                <div class="envelope-flap"></div>
                <div class="envelope-seal">üíå</div>
            </div>
            
            <div class="paper-letter">
                <div class="paper-content">
                    <h2 class="paper-title">To My Valentine üíù</h2>
                    
                   
                    <div class="paper-line">I understand that this may look like an overkill for whatever we are rn, but it was valentine's and so i thought that i'll do a little something. It's not much honestlyüò≠, i really really tried to get in a background song into this, but it just did not work like i wanted it to, instead it messed up other things so we left that. Imagine careless whisper playing in background for a better experience plis :)</div>
                    <div class="paper-line">So you know that one time i really thanked ishika for giving you my phone number, and i mean it so much more now. Back then i said that only because i said that i will, now i really am thankful to her for being the reason i get to talk to you everyday. THIS SOUNDS CRINGE BUT I MEAN IT OKAY.</div>
                    <div style="text-align: center; margin: 20px 0;">
        <img src="Screenshot 2026-02-09 at 22.16.09.png" alt="Our Photo" style="
            width: 200px;
            border-radius: 15px;
            border: 3px solid #ff4d8d;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        ">
        <p style="color: #ff4d8d; font-style: italic; margin-top: 5px;">
            isne nashedi ganjedi kaise bola mujhe abhi call karta hun
        </p>
                    <div class="paper-line">From the point we started talking, i've found you attractive. Idk what it is, must be the air of delhi or *greater* noida, whatever it is, its great. And after that, although all of our talks were mostly flirtsüò≠, but they were awesome. I've loved talking to you, OH AND YOUR VOICE NOTES. I really really really really like your voice and your way of saying things. The soft speech, the more delicate vocab to most people, excluding the laura, randi etcüò≠</div>
                    <div class="paper-line">Honestly, writing the code was easier than writing these pointsüò≠. I really struggle to express, but oh you've made me really comfortable. I realise that i've said so many things that i would not only because i thought that i dont have the right words. That means so much to me, you mean so much to me now, you're a really really nice person. From however much i've known you.</div>
                    <div class="paper-line">Thank you for letting me be your Valentine. This means more to me than you'll ever know.</div>
                    <div class="paper-line">Yeah so aanya, I really really wish that we were together atleast around this time of the year. It's valentine's, and THANKYOU SO SO MUCH for letting me be your valentine. I promise I wont drink, or do anything that's obviously wrong. You're the sweetest, the prettiest and the most amazing person. Ik these sounds like the most basic things anyone would say but gngüò≠, trust me when i say that writing code felt easier. </div>
                    <div class="paper-line">Okay, I'm not the best when it comes to say sweet things, but I promise that everything that I've said, I meant it all. I really actually do like you AND I LOVE YOUR EYES, OH THOSE EYES. Well, yeah also if it's practically possible and comfortable for you to receive deliveries then let me send some chocolates. I can't let you watch your roommate eating chocolates sent by her fake boyfriends, while you have a real one. THAT'S ME :) hoping to meet you soon shonapie!!</div>
                    
                    <div class="paper-signature">
                        Forever yours,<br>
                        <span style="font-size: 1.8rem;">Aditya Agrawat</span>
                    </div>
                </div>
            </div>
            
            <div class="instruction-text">Click the envelope to open my letter üì®</div>
        </div>
        
        <p class="message">Happy Valentine's Week Shonaaaaaa!!!</p>
        
        <div class="fireworks">
            <div class="firework"></div>
            <div class="firework"></div>
            <div class="firework"></div>
        </div>
    </div>
    
    <!-- Music -->
    <script src="music.js"></script>
    
    <!-- Envelope Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Celebrate with music
            const music = window.getMusicPlayer ? window.getMusicPlayer() : null;
            if (music && music.celebrate) {
                setTimeout(() => {
                    music.celebrate();
                }, 500);
            }
            
            // Letter animation
            const letterContainer = document.getElementById('letterContainer');
            const envelopeSeal = document.querySelector('.envelope-seal');
            let isOpened = false;
            
            console.log("Envelope ready to click!");
            
            // CLICK EVENT - FIXED
            letterContainer.addEventListener('click', function(event) {
                console.log("Envelope clicked!");
                event.stopPropagation(); // Prevent event bubbling
                
                if (!isOpened) {
                    // Add 'opened' class to container
                    this.classList.add('opened');
                    isOpened = true;
                    
                    console.log("Envelope opening animation started");
                    
                    // Create paper unfolding effect
                    createPaperUnfoldEffect();
                    
                    // Play unfolding sound
                    playUnfoldSound();
                    
                    // Change instruction
                    document.querySelector('.instruction-text').textContent = "üíå My heart in words for you üíå";
                    
                    // After letter is fully open, add floating hearts
                    setTimeout(() => {
                        for (let i = 0; i < 15; i++) {
                            setTimeout(() => createFloatingHeart(), i * 120);
                        }
                    }, 1000);
                }
            });
            
            // Hover effect
            letterContainer.addEventListener('mouseenter', function() {
                if (!isOpened) {
                    this.querySelector('.closed-envelope').style.transform = 'translateY(-5px)';
                    envelopeSeal.style.transform = 'translate(-50%, -50%) scale(1.1)';
                }
            });
            
            letterContainer.addEventListener('mouseleave', function() {
                if (!isOpened) {
                    this.querySelector('.closed-envelope').style.transform = 'translateY(0)';
                    envelopeSeal.style.transform = 'translate(-50%, -50%) scale(1)';
                }
            });
            
            // Create paper unfold effect
            function createPaperUnfoldEffect() {
                const paperPieces = 5;
                for (let i = 0; i < paperPieces; i++) {
                    setTimeout(() => {
                        const piece = document.createElement('div');
                        piece.textContent = 'üìÑ';
                        piece.style.cssText = `
                            position: fixed;
                            font-size: ${1 + Math.random() * 1.5}rem;
                            top: 50%;
                            left: 50%;
                            opacity: 0.7;
                            animation: paperFly ${1 + Math.random() * 1}s ease-out forwards;
                            z-index: 999;
                            pointer-events: none;
                            transform: translate(-50%, -50%) rotate(${Math.random() * 360}deg);
                        `;
                        document.body.appendChild(piece);
                        
                        setTimeout(() => piece.remove(), 2000);
                    }, i * 100);
                }
            }
            
            // Create floating hearts
            function createFloatingHeart() {
                const heart = document.createElement('div');
                heart.textContent = ['‚ù§Ô∏è', 'üíñ', 'üíù', 'üíó', 'üíì'][Math.floor(Math.random() * 5)];
                heart.style.cssText = `
                    position: fixed;
                    font-size: ${1.2 + Math.random() * 1.5}rem;
                    top: 60%;
                    left: ${40 + Math.random() * 20}%;
                    opacity: 0;
                    animation: heartFloat ${2 + Math.random() * 1.5}s ease-out forwards;
                    z-index: 999;
                    pointer-events: none;
                    filter: drop-shadow(0 0 8px rgba(255,0,100,0.4));
                `;
                document.body.appendChild(heart);
                
                setTimeout(() => heart.remove(), 3000);
            }
            
            // Sound effects
            function playUnfoldSound() {
                // Paper rustle sound
                const rustle = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-paper-rumble-1107.mp3');
                rustle.volume = 0.15;
                rustle.play().catch(e => console.log("Sound optional"));
                
                // Seal break sound after delay
                setTimeout(() => {
                    const seal = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-magic-sparkles-3007.mp3');
                    seal.volume = 0.2;
                    seal.play().catch(e => console.log("Sound optional"));
                }, 300);
            }
        });
    </script>
    
    <style>
        /* Animations */
        @keyframes sealPulse {
            0%, 100% { 
                transform: translate(-50%, -50%) scale(1);
                box-shadow: 0 0 0 8px rgba(255, 255, 255, 0.2);
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.1);
                box-shadow: 0 0 0 12px rgba(255, 255, 255, 0.3);
            }
        }
        
        @keyframes sealBreak {
            0% { 
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            100% { 
                transform: translate(-50%, -50%) scale(1.5);
                opacity: 0;
            }
        }
        
        @keyframes paperFly {
            0% {
                transform: translate(-50%, -50%) rotate(0deg) scale(1);
                opacity: 0.7;
            }
            100% {
                transform: translate(
                    ${-50 + (Math.random() * 100 - 50)}%, 
                    ${-50 - 30 - Math.random() * 50}%
                ) rotate(${Math.random() * 360}deg) scale(0.5);
                opacity: 0;
            }
        }
        
        @keyframes heartFloat {
            0% {
                transform: translateY(0) rotate(0deg) scale(0.8);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            100% {
                transform: translateY(-150px) rotate(360deg) scale(1);
                opacity: 0;
            }
        }
        
        @keyframes fadeInOut {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        /* Responsive */
        @media (max-width: 600px) {
            .letter-container {
                width: 280px;
            }
            
            .closed-envelope {
                width: 260px;
                height: 160px;
            }
            
            .envelope-flap {
                border-left: 130px solid transparent;
                border-right: 130px solid transparent;
                border-top: 80px solid #ff0066;
            }
            
            .paper-letter {
                width: 240px;
            }
            
            .paper-title {
                font-size: 1.7rem;
            }
            
            .paper-line {
                font-size: 1rem;
                padding-left: 20px;
            }
        }
    </style>
</body>
</html>